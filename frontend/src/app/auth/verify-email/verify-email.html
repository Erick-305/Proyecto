<div class="verify-email-container">
  <div class="verify-card">
    <div class="header">
      <h1>🏥 Verificación de Email</h1>
      <p>Ingresa el código que recibiste por correo</p>
    </div>

    <div class="content" *ngIf="!isSuccess && !isError">
      <form (ngSubmit)="onSubmit()" #verifyForm="ngForm">
        <div class="form-group">
          <label for="email">Email:</label>
          <input 
            type="email" 
            id="email" 
            name="email"
            [(ngModel)]="verificationData.email"
            required
            placeholder="tu@email.com"
            [disabled]="isLoading">
        </div>

        <div class="form-group">
          <label for="code">Código de verificación:</label>
          <input 
            type="text" 
            id="code" 
            name="code"
            [(ngModel)]="verificationData.code"
            required
            placeholder="123456"
            maxlength="6"
            [disabled]="isLoading">
        </div>

        <button 
          type="submit" 
          class="verify-btn"
          [disabled]="isLoading || !verifyForm.form.valid">
          <span *ngIf="!isLoading">🔐 Verificar Cuenta</span>
          <span *ngIf="isLoading">⏳ Verificando...</span>
        </button>
      </form>

      <div class="help-text">
        <p>📧 Revisa tu bandeja de entrada y spam</p>
        <p>El código tiene 6 dígitos y expira en 24 horas</p>
      </div>
    </div>

    <!-- Mensaje de éxito -->
    <div class="success-message" *ngIf="isSuccess">
      <div class="success-icon">✅</div>
      <h2>¡Verificación Exitosa!</h2>
      <p>{{ message }}</p>
      <p>Redirigiendo al login en 3 segundos...</p>
      <button (click)="goToLogin()" class="success-btn">
        Ir al Login Ahora
      </button>
    </div>

    <!-- Mensaje de error -->
    <div class="error-message" *ngIf="isError">
      <div class="error-icon">❌</div>
      <h2>Error en la Verificación</h2>
      <p>{{ message }}</p>
      <div class="error-actions">
        <button (click)="isError = false; message = ''" class="retry-btn">
          🔄 Intentar de Nuevo
        </button>
        <button (click)="goToRegister()" class="register-btn">
          📝 Registrarse de Nuevo
        </button>
      </div>
    </div>

    <div class="footer">
      <p>¿No tienes una cuenta? <a routerLink="/register">Regístrate aquí</a></p>
      <p>¿Ya tienes cuenta verificada? <a routerLink="/login">Inicia sesión</a></p>
    </div>
  </div>
</div>